{"version":3,"sources":["components/filters/Filters.js","components/utils/formatGrade.js","components/course/Course.js","components/courses-list/CoursesList.js","getCourses.js","components/utils/isSearchedCourse.js","components/utils/filterCourses.js","components/app/App.js","index.js"],"names":["Filters","props","className","type","onClick","onPriceToggle","id","name","onChange","e","onFilter","subj","target","value","genre","grade","placeholder","aria-label","onInput","searchStr","formatGrade","includes","classes","split","lowClass","highClass","length","Course","course","subject","price","priceBonus","detailsUrl","priceText","priceToggle","src","alt","href","CoursesList","courses","coursesLoaded","coursesElements","map","key","content","role","getCourses","a","fetch","method","response","json","items","result","errorMessage","courseId","shopUrl","slice","Error","isSearchedCourse","subStrings","str","gradeStr","toLowerCase","genreStr","subjectStr","subStr","filterCourses","filteredCourses","filter","item","filterBySearchTerm","filterByGrade","filterByGenre","filterBySubj","App","state","filters","setState","this","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e0d072ba.chunk.js","sourcesContent":["import React from \"react\";\nimport './Filters.css';\n\nconst Filters = (props) => {\n\treturn (\n\t\t<div className=\"row mb-5 filters\">\n\t\t\t<div className=\"col-12 col-md-auto mb-3\">\n\t\t\t\t<button type=\"button\"\n\t\t\t\t        className=\"btn btn-block\"\n\t\t\t\t        onClick={props.onPriceToggle}\n\t\t\t\t>Рубли/Бонусы\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className=\"col-12 col-md-auto flex-fill mb-3\">\n\t\t\t\t<select id=\"subj\"\n\t\t\t\t        name=\"subj\"\n\t\t\t\t        className=\"custom-select\"\n\t\t\t\t        onChange={(e) => props.onFilter({subj: e.target.value})}\n\t\t\t\t>\n\t\t\t\t\t<option value=\"\">Все предметы</option>\n\t\t\t\t\t<option>Алгебра</option>\n\t\t\t\t\t<option>Английский язык</option>\n\t\t\t\t\t<option>Биология</option>\n\t\t\t\t\t<option>География</option>\n\t\t\t\t\t<option>Геометрия</option>\n\t\t\t\t\t<option>Демо-версия</option>\n\t\t\t\t\t<option>Информатика</option>\n\t\t\t\t\t<option>История</option>\n\t\t\t\t\t<option>Литература</option>\n\t\t\t\t\t<option>Математика</option>\n\t\t\t\t\t<option>Обществознание</option>\n\t\t\t\t\t<option>Окружающий мир</option>\n\t\t\t\t\t<option>Робототехника</option>\n\t\t\t\t\t<option>Русский язык</option>\n\t\t\t\t\t<option>Физика</option>\n\t\t\t\t\t<option>Химия</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-12 col-md-auto flex-fill mb-3\">\n\t\t\t\t<select id=\"genre\"\n\t\t\t\t        name=\"genre\"\n\t\t\t\t        className=\"custom-select\"\n\t\t\t\t        onChange={(e) => props.onFilter({genre: e.target.value})}\n\t\t\t\t>\n\t\t\t\t\t<option value=\"\">Все жанры</option>\n\t\t\t\t\t<option>Демо</option>\n\t\t\t\t\t<option>Задачник</option>\n\t\t\t\t\t<option>Подготовка к ВПР</option>\n\t\t\t\t\t<option>Подготовка к ЕГЭ</option>\n\t\t\t\t\t<option>Рабочая тетрадь</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-12 col-md-auto flex-fill mb-3\">\n\t\t\t\t<select id=\"grade\"\n\t\t\t\t        name=\"grade\"\n\t\t\t\t        className=\"custom-select\"\n\t\t\t\t        onChange={(e) => props.onFilter({grade: e.target.value})}\n\t\t\t\t>\n\t\t\t\t\t<option value=\"\">Все классы</option>\n\t\t\t\t\t<option>1</option>\n\t\t\t\t\t<option>2</option>\n\t\t\t\t\t<option>3</option>\n\t\t\t\t\t<option>4</option>\n\t\t\t\t\t<option>5</option>\n\t\t\t\t\t<option>6</option>\n\t\t\t\t\t<option>7</option>\n\t\t\t\t\t<option>8</option>\n\t\t\t\t\t<option>9</option>\n\t\t\t\t\t<option>10</option>\n\t\t\t\t\t<option>11</option>\n\t\t\t\t</select>\n\t\t\t</div>\n\n\t\t\t<div className=\"col-12 col-md-auto flex-fill mb-3\">\n\t\t\t\t<input className=\"form-control mr-sm-2\"\n\t\t\t\t       type=\"search\"\n\t\t\t\t       placeholder=\"Поиск\"\n\t\t\t\t       aria-label=\"Поиск\"\n\t\t\t\t       onInput={(e) => props.onFilter({searchStr: e.target.value})}/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Filters;\n","const formatGrade = (grade) => {\n\tif (grade.includes(';')) {\n\t\tconst classes = grade.split(';');\n\t\tconst lowClass = classes[0];\n\t\tconst highClass = classes[classes.length-1];\n\t\treturn `${lowClass}-${highClass} классы`;\n\t} else {\n\t\treturn `${grade} класс`;\n\t}\n};\n\nexport default formatGrade;\n","import React from \"react\";\nimport './Course.css';\nimport formatGrade from \"../utils/formatGrade\";\n\nconst Course = (props) => {\n\t\tconst {id, subject, grade, genre, price, priceBonus, detailsUrl} = props.course;\n\t\tconst priceToggle = props.priceToggle;\n\n\t\tconst priceText = priceToggle === 'rub' ? `${price} руб.` : `${priceBonus} бонусов`;\n\n\t\treturn (\n\t\t\t<div className=\"col-6 col-md-3 col-lg-5th courseCol mb-4\">\n\t\t\t\t\t<div className=\"card courseContent\">\n\t\t\t\t\t\t<img src={`https://www.imumk.ru/svc/coursecover/${id}`} className=\"card-img-top\" alt=\"...\"/>\n\t\t\t\t\t\t<div className=\"card-body courseInfo\">\n\t\t\t\t\t\t\t<h6 className=\"courseTitle\">{subject}</h6>\n\t\t\t\t\t\t\t<h6 className=\"courseGrade mb-1\">{formatGrade(grade)}</h6>\n\t\t\t\t\t\t\t<p className=\"courseGenre mb-2\">{genre}</p>\n\n\t\t\t\t\t\t\t<p className=\"courseMeta mb-2\">\n\t\t\t\t\t\t\t\t<a href={detailsUrl}>Подробнее</a>\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"coursePrice\">{priceText}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n};\n\nexport default Course;\n","import React from \"react\";\nimport Course from \"../course/Course\";\nimport './CoursesList.css';\n\nconst CoursesList = ({courses, priceToggle, coursesLoaded}) => {\n\tconst coursesElements = courses.map((course) => <Course key={course.id} course={course} priceToggle={priceToggle}/>);\n\tconst spinner = (\n\t\t\t<div className=\"col-12\">\n\t\t\t\t<div className=\"d-flex justify-content-center m-5\">\n\t\t\t\t\t<div className=\"spinner-border\" role=\"status\">\n\t\t\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t);\n\tconst content = coursesLoaded ? coursesElements : spinner;\n\treturn (\n\t\t<div className=\"row\">\n\t\t\t{content}\n\t\t</div>\n\t)\n};\n\nexport default CoursesList;\n","const getCourses = async () => {\n\tconst response = await fetch('https://cors-anywhere.herokuapp.com/http://krapipl.imumk.ru:8082/api/mobilev1/update', {\n\t\tmethod: 'POST'\n\t});\n\tconst {items, result, errorMessage} = await response.json();\n\n\tif (result === 'Ok') {\n\t\treturn items.map(({courseId, subject, grade, genre, price, priceBonus, shopUrl}) => {\n\t\t\tconst id = shopUrl.slice(34);\n\t\t\treturn {\n\t\t\t\tid: courseId,\n\t\t\t\tdetailsUrl: `https://www.imumk.ru/offer/${id}`,\n\t\t\t\tgrade,\n\t\t\t\tsubject,\n\t\t\t\tgenre,\n\t\t\t\tprice,\n\t\t\t\tpriceBonus\n\t\t\t}\n\t\t});\n\t} else {\n\t\tthrow new Error(errorMessage);\n\t}\n};\n\nexport default getCourses;\n","// Немного перемудрил с поиском. Забыл, что требуется поиск только по названию.\nconst isSearchedCourse = (course, subStrings) => {\n\tfor (const str of subStrings) {\n\t\tconst gradeStr = course.grade.toLowerCase();\n\t\tconst genreStr = course.genre.toLowerCase();\n\t\tconst subjectStr = course.subject.toLowerCase();\n\n\t\tconst subStr = str.toLowerCase();\n\t\tif (!(gradeStr.includes(subStr) || genreStr.includes(subStr) || subjectStr.includes(subStr))) {\n\t\t\treturn false;\n\t\t}\n\t}\n\treturn true;\n};\n\nexport default isSearchedCourse;\n","import isSearchedCourse from \"./isSearchedCourse\";\n\nconst filterBySubj = (courses, subj) => subj ? courses.filter((course) => course.subject.includes(subj)) : courses;\nconst filterByGenre = (courses, genre) => genre ? courses.filter((course) => course.genre.includes(genre)) : courses;\nconst filterByGrade = (courses, grade) => {\n\tif (grade) {\n\t\treturn courses.filter((course) => course.grade.split(';').includes(grade));\n\t}\n\treturn courses;\n};\n\nconst filterBySearchTerm = (courses, searchStr) => {\n\tconst subStrings = searchStr.split(' ').filter((item) => item);\n\tif (subStrings.length !== 1) {\n\t\treturn courses;\n\t}\n\treturn courses.filter((course) => isSearchedCourse(course, subStrings));\n};\n\nconst filterCourses = (courses, {subj, genre, grade, searchStr}) => {\n\tlet filteredCourses = [...courses];\n\n\tfilteredCourses = filterBySubj(filteredCourses, subj);\n\tfilteredCourses = filterByGenre(filteredCourses, genre);\n\tfilteredCourses = filterByGrade(filteredCourses, grade);\n\n\tfilteredCourses = filterBySearchTerm(filteredCourses, searchStr);\n\treturn filteredCourses;\n};\n\nexport default filterCourses;\n","import React, {Component} from 'react';\nimport Filters from \"../filters/Filters\";\nimport CoursesList from '../courses-list/CoursesList';\nimport getCourses from \"../../getCourses\";\nimport filterCourses from \"../utils/filterCourses\";\nimport './App.css';\n\nclass App extends Component {\n\tstate = {\n\t\tcourses: [],\n\t\tfilters: {\n\t\t\tsubj: '',\n\t\t\tgenre: '',\n\t\t\tgrade: '',\n\t\t\tsearchStr: '',\n\t\t},\n\t\tpriceToggle: 'rub',\n\t\tcoursesLoaded: false\n\t};\n\n\tcomponentDidMount() {\n\t\t(async () => {\n\t\t\tconst courses = await getCourses();\n\t\t\tthis.setState(() => {\n\t\t\t\treturn {\n\t\t\t\t\tcourses,\n\t\t\t\t\tcoursesLoaded: true\n\t\t\t\t};\n\t\t\t});\n\t\t})();\n\t}\n\n\tonFilter = (filter) => {\n\t\tthis.setState((state) => {\n\t\t\treturn {\n\t\t\t\tfilters: {\n\t\t\t\t\t...state.filters,\n\t\t\t\t\t...filter\n\t\t\t\t}\n\t\t\t};\n\t\t});\n\t};\n\n\tonPriceToggle = () => {\n\t\tthis.setState((state) => {\n\t\t\treturn {\n\t\t\t\tpriceToggle: state.priceToggle === 'rub' ? 'bonus' : 'rub'\n\t\t\t};\n\t\t});\n\t};\n\n\trender() {\n\t\tconst courses = filterCourses(this.state.courses, this.state.filters);\n\t\tconst {coursesLoaded, priceToggle} = this.state;\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<h1>Витрина</h1>\n\t\t\t\t<Filters onFilter={this.onFilter} onPriceToggle={this.onPriceToggle}/>\n\t\t\t\t<CoursesList courses={courses} priceToggle={priceToggle} coursesLoaded={coursesLoaded}/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './bootstrap.min.css';\nimport './index.css';\nimport App from './components/app/App';\n\nReactDOM.render(\n\t<React.StrictMode>\n    <App />\n\t</React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}